{"version":3,"sources":["webpack:///./src/views/Titulos.vue?4802","webpack:///src/views/Titulos.vue","webpack:///./src/views/Titulos.vue?6e40","webpack:///./src/views/Titulos.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","mostrarPagamento","tituloSelecionado","on","fecharPagamento","ref","colunas","formulario","acoes","$event","staticRenderFns","data","methods","getFornecedores","store","$store","state","fornecedores","paginate","$refs","grid","atualizar","computed","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,uBAAuB,CAACG,MAAM,CAAC,QAAUP,EAAIQ,iBAAiB,kBAAoBR,EAAIS,mBAAmBC,GAAG,CAAC,OAASV,EAAIW,mBAAmBP,EAAG,WAAW,CAACQ,IAAI,OAAOL,MAAM,CAAC,IAAM,uBAAuB,QAAUP,EAAIa,QAAQ,WAAab,EAAIc,WAAW,MAAQd,EAAIe,MAAM,iBAAiB,yBAAyBL,GAAG,CAAC,WAAa,SAASM,GAAQhB,EAAIS,kBAAoBO,OAAY,IAChgBC,EAAkB,G,6CCqBtB,GACEC,KADF,WAEI,MAAO,CACLV,kBAAkB,EAClBC,kBAAmB,OAGvB,QAPF,uKAQA,yCARA,wGAUEU,QAAS,CACPC,gBADJ,SACA,GACM,MAAO,CACLC,MAAOpB,KAAKqB,OAAOC,MAAMC,aACzBC,UAAU,IAGdd,gBAPJ,WAQMV,KAAKO,kBAAmB,EACxBP,KAAKyB,MAAMC,KAAKC,cAGpBC,SAAU,CACRd,MADJ,WAEM,IAAN,OACM,MAAO,CACb,CACQ,SAAR,SACQ,OAAR,WACQ,QAAR,CACU,KAAV,QACU,KAAV,sBACU,QAHV,SAGA,GACA,2BAKA,yBACc,IAAd,2CAGY,EAAZ,oBARc,IAAd,qEAcIF,QA1BJ,WA2BM,MAAO,CACb,CACQ,UAAR,KACQ,QAAR,IACQ,MAAR,IAEA,CACQ,UAAR,OACQ,SAAR,QAEA,CACQ,UAAR,oBAEA,CACQ,UAAR,aACQ,SAAR,QAEA,CACQ,UAAR,QACQ,OAAR,CACU,KAAV,aACU,UAAV,IAGA,CACQ,UAAR,QACQ,OAAR,CACU,KAAV,aACU,UAAV,IAGA,CACQ,UAAR,aACQ,OAAR,CACU,WAAV,qBACU,YAAV,OACU,UAAV,SAKIC,WApEJ,WAqEM,MAAO,CACb,CACQ,UAAR,OACQ,cAAR,CACU,wBAAV,cAEQ,gBAAR,CACA,CAAU,KAAV,WAAU,QAAV,0BAGA,CACQ,UAAR,mBACQ,gBAAR,CACA,CAAU,KAAV,WAAU,QAAV,+BAGA,CACQ,UAAR,aACQ,cAAR,CACU,wBAAV,cAEQ,gBAAR,CACA,CAAU,KAAV,WAAU,QAAV,gCAGA,CACQ,UAAR,QACQ,cAAR,CACU,OAAV,CACY,KAAZ,aACY,UAAZ,IAGQ,gBAAR,CACA,CAAU,KAAV,WAAU,QAAV,2BAGA,CACQ,UAAR,aACQ,gBAAR,CACA,CAAU,KAAV,WAAU,QAAV,+BAEQ,QAAR,OC3JiV,I,YCO7UgB,EAAY,eACd,EACA/B,EACAkB,GACA,EACA,KACA,KACA,MAIa,aAAAa,E","file":"js/chunk-2d237eb2.8757f702.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"titulos\"},[_c('app-titulo-pagamento',{attrs:{\"mostrar\":_vm.mostrarPagamento,\"tituloSelecionado\":_vm.tituloSelecionado},on:{\"fechar\":_vm.fecharPagamento}}),_c('app-crud',{ref:\"grid\",attrs:{\"url\":\"/financeiro/titulos/\",\"colunas\":_vm.colunas,\"formulario\":_vm.formulario,\"acoes\":_vm.acoes,\"mestre-detalhe\":\"app-detalhe-pagamento\"},on:{\"selecionou\":function($event){_vm.tituloSelecionado = $event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"titulos\">\n    <app-titulo-pagamento\n      :mostrar=\"mostrarPagamento\"\n      :tituloSelecionado=\"tituloSelecionado\"\n      @fechar=\"fecharPagamento\"\n    />\n    <app-crud\n      ref=\"grid\"\n      url=\"/financeiro/titulos/\"\n      :colunas=\"colunas\"\n      :formulario=\"formulario\"\n      :acoes=\"acoes\"\n      @selecionou=\"tituloSelecionado = $event\"\n      mestre-detalhe=\"app-detalhe-pagamento\"\n    />\n  </div>\n</template>\n\n<script>\nimport notify from 'devextreme/ui/notify'\n\nexport default {\n  data () {\n    return {\n      mostrarPagamento: false,\n      tituloSelecionado: null\n    }\n  },\n  async created () {\n    await this.$store.dispatch('loadFornecedores')\n  },\n  methods: {\n    getFornecedores (options) {\n      return {\n        store: this.$store.state.fornecedores,\n        paginate: true\n      }\n    },\n    fecharPagamento () {\n      this.mostrarPagamento = false\n      this.$refs.grid.atualizar()\n    }\n  },\n  computed: {\n    acoes () {\n      const self = this\n      return [\n        {\n          location: 'before',\n          widget: 'dxButton',\n          options: {\n            icon: 'check',\n            text: 'Adicionar Pagamento',\n            onClick (e) {\n              if (self.tituloSelecionado === null) {\n                notify('Selecione um título para adicionar o pagamento', 'warning', 3000)\n                return\n              }\n\n              if (self.tituloSelecionado.pago) {\n                notify('Título já esta pago. VAZA', 'warning', 3000)\n                return\n              }\n              self.mostrarPagamento = true\n            }\n          }\n        }\n      ]\n    },\n    colunas () {\n      return [\n        {\n          dataField: 'id',\n          caption: '#',\n          width: 50\n        },\n        {\n          dataField: 'data',\n          dataType: 'date'\n        },\n        {\n          dataField: 'numero_documento'\n        },\n        {\n          dataField: 'vencimento',\n          dataType: 'date'\n        },\n        {\n          dataField: 'valor',\n          format: {\n            type: 'fixedPoint',\n            precision: 2\n          }\n        },\n        {\n          dataField: 'saldo',\n          format: {\n            type: 'fixedPoint',\n            precision: 2\n          }\n        },\n        {\n          dataField: 'fornecedor',\n          lookup: {\n            dataSource: this.getFornecedores,\n            displayExpr: 'nome',\n            valueExpr: 'id'\n          }\n        }\n      ]\n    },\n    formulario () {\n      return [\n        {\n          dataField: 'data',\n          editorOptions: {\n            dateSerializationFormat: 'yyyy-MM-dd'\n          },\n          validationRules: [\n            { type: 'required', message: 'A data é obrigatória' }\n          ]\n        },\n        {\n          dataField: 'numero_documento',\n          validationRules: [\n            { type: 'required', message: 'O documento é obrigatório' }\n          ]\n        },\n        {\n          dataField: 'vencimento',\n          editorOptions: {\n            dateSerializationFormat: 'yyyy-MM-dd'\n          },\n          validationRules: [\n            { type: 'required', message: 'O vencimento é obrigatório' }\n          ]\n        },\n        {\n          dataField: 'valor',\n          editorOptions: {\n            format: {\n              type: 'fixedPoint',\n              precision: 2\n            }\n          },\n          validationRules: [\n            { type: 'required', message: 'O valor é obrigatório' }\n          ]\n        },\n        {\n          dataField: 'fornecedor',\n          validationRules: [\n            { type: 'required', message: 'O fornecedor é obrigatório' }\n          ],\n          colSpan: 2\n        }\n      ]\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Titulos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Titulos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Titulos.vue?vue&type=template&id=7315e4f2&\"\nimport script from \"./Titulos.vue?vue&type=script&lang=js&\"\nexport * from \"./Titulos.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}